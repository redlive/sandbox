<SOCTYPE html>
<html>
    <head>
        <!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script> -->
        <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.0/fabric.js"></script>
        <script type="text/javascript" src="overrides.js"></script>
        <script type="text/javascript" src="container.js"></script>
        <script type="text/javascript" src="textbox.js"></script>
    </head>
    <body>
        <canvas id="paper" width="800" height="800" style="border:1px solid #ccc"></canvas>

        <script type="text/javascript">
            
            var canvas = new fabric.Canvas('paper', { preserveObjectStacking: true });

            var container = new fabric.Container({ 
              left: 100, 
              top: 100,
              width: 400,
              height: 400,
              fill: 'red',
              angle: 0,
              content: {
                left: 40,
                top: 40,
                width: 100,
                height: 100,
                src: 'https://i.pinimg.com/736x/b9/e5/e9/b9e5e928c23917283fb221c951ca635b--valentine-cards-be-my-valentine.jpg',
              }
            });
            canvas.add(container);



            fabric.util.addListener(canvas.upperCanvasEl, 'dblclick', function(e) {
                const target = canvas.findTarget(e);
                // console.log('___________________dblclick', target);
                if (target) {
                    if (target.type === 'container') {
                        target._onDoubleClick();
                        // alert('double clicked on a container!');
                       // target.set('dblClick', !target.get('dblClick') || true);
                        // console.log(target.xxxxxxx);
                   }
                }
            });

        </script>

    </body>
</htmp

